<!DOCTYPE html>
<h1 id="folder-permissions-api">Folder Permissions API</h1>
<p>This API can be used to update/get the permissions for a folder.</p>
<p>Permissions with <code>folderId=-1</code> are the default permissions for users with the Viewer and Editor roles. Permissions can be set for a user, a team or a role (Viewer or Editor). Permissions cannot be set for Admins - they always have access to everything.</p>
<p>The permission levels for the permission field:</p>
<ul>
<li>1 = View</li>
<li>2 = Edit</li>
<li>4 = Admin</li>
</ul>
<blockquote>
<p>If you are running Grafana Enterprise, for some endpoints you&rsquo;ll need to have specific permissions. Refer to <a href="/docs/grafana/latest/administration/roles-and-permissions/access-control/custom-role-actions-scopes/">Role-based access control permissions</a> for more information.</p></blockquote>
<h2 id="get-permissions-for-a-folder">Get permissions for a folder</h2>
<p><code>GET /api/folders/:uid/permissions</code></p>
<p>Gets all existing permissions for the folder with the given <code>uid</code>.</p>
<p><strong>Required permissions</strong></p>
<p>See note in the <a href="#folder-permission-api">introduction</a> for an explanation.</p>
<table>
  <thead>
      <tr>
          <th>Action</th>
          <th>Scope</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>folders.permissions:read</code></td>
          <td><code>folders:*</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Example request</strong>:</p>
<pre>GET /api/folders/nErXDvCkzz/permissions HTTP/1.1
Accept: application/json
Content-Type: application/json
Authorization: Bearer eyJrIjoiT0tTcG1pUlY2RnVKZTFVaDFsNFZXdE9ZWmNrMkZYbk</pre>
<p><strong>Example Response</strong></p>
<pre>HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8
Content-Length: 551

[
  {
    &#34;id&#34;: 1,
    &#34;folderId&#34;: -1,
    &#34;created&#34;: &#34;2017-06-20T02:00:00+02:00&#34;,
    &#34;updated&#34;: &#34;2017-06-20T02:00:00+02:00&#34;,
    &#34;userId&#34;: 0,
    &#34;userLogin&#34;: &#34;&#34;,
    &#34;userEmail&#34;: &#34;&#34;,
    &#34;teamId&#34;: 0,
    &#34;team&#34;: &#34;&#34;,
    &#34;role&#34;: &#34;Viewer&#34;,
    &#34;permission&#34;: 1,
    &#34;permissionName&#34;: &#34;View&#34;,
    &#34;uid&#34;: &#34;nErXDvCkzz&#34;,
    &#34;title&#34;: &#34;&#34;,
    &#34;slug&#34;: &#34;&#34;,
    &#34;isFolder&#34;: false,
    &#34;url&#34;: &#34;&#34;
  },
  {
    &#34;id&#34;: 2,
    &#34;dashboardId&#34;: -1,
    &#34;created&#34;: &#34;2017-06-20T02:00:00+02:00&#34;,
    &#34;updated&#34;: &#34;2017-06-20T02:00:00+02:00&#34;,
    &#34;userId&#34;: 0,
    &#34;userLogin&#34;: &#34;&#34;,
    &#34;userEmail&#34;: &#34;&#34;,
    &#34;teamId&#34;: 0,
    &#34;team&#34;: &#34;&#34;,
    &#34;role&#34;: &#34;Editor&#34;,
    &#34;permission&#34;: 2,
    &#34;permissionName&#34;: &#34;Edit&#34;,
    &#34;uid&#34;: &#34;&#34;,
    &#34;title&#34;: &#34;&#34;,
    &#34;slug&#34;: &#34;&#34;,
    &#34;isFolder&#34;: false,
    &#34;url&#34;: &#34;&#34;
  }
]</pre>
<p>Status Codes:</p>
<ul>
<li><strong>200</strong> - Ok</li>
<li><strong>401</strong> - Unauthorized</li>
<li><strong>403</strong> - Access denied</li>
<li><strong>404</strong> - Folder not found</li>
</ul>
<h2 id="update-permissions-for-a-folder">Update permissions for a folder</h2>
<p><code>POST /api/folders/:uid/permissions</code></p>
<p>Updates permissions for a folder. This operation will remove existing permissions if they&rsquo;re not included in the request.</p>
<p><strong>Required permissions</strong></p>
<p>See note in the <a href="#folder-permission-api">introduction</a> for an explanation.</p>
<table>
  <thead>
      <tr>
          <th>Action</th>
          <th>Scope</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>folders.permissions:write</code></td>
          <td><code>folders:*</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Example request</strong>:</p>
<pre>POST /api/folders/nErXDvCkzz/permissions
Accept: application/json
Content-Type: application/json
Authorization: Bearer eyJrIjoiT0tTcG1pUlY2RnVKZTFVaDFsNFZXdE9ZWmNrMkZYbk
{
  &#34;items&#34;: [
    {
      &#34;role&#34;: &#34;Viewer&#34;,
      &#34;permission&#34;: 1
    },
    {
      &#34;role&#34;: &#34;Editor&#34;,
      &#34;permission&#34;: 2
    },
    {
      &#34;teamId&#34;: 1,
      &#34;permission&#34;: 1
    },
    {
      &#34;userId&#34;: 11,
      &#34;permission&#34;: 4
    }
  ]
}</pre>
<p>JSON body schema:</p>
<ul>
<li><strong>items</strong> - The permission items to add/update. Items that are omitted from the list will be removed.</li>
</ul>
<p><strong>Example response</strong>:</p>
<pre>HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8
Content-Length: 35

{&#34;message&#34;:&#34;Folder permissions updated&#34;,&#34;id&#34;:1,&#34;title&#34;:&#34;Department ABC&#34;}</pre>
<p>Status Codes:</p>
<ul>
<li><strong>200</strong> - Ok</li>
<li><strong>401</strong> - Unauthorized</li>
<li><strong>403</strong> - Access denied</li>
<li><strong>404</strong> - Dashboard not found</li>
</ul>
