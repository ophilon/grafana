<!DOCTYPE html>
<h1 id="shared-dashboards-api">Shared Dashboards API</h1>


<div class="admonition admonition-note"><blockquote><p class="title text-uppercase">Note</p><p>If you&rsquo;re running Grafana Enterprise, you&rsquo;ll need to have specific permissions for some endpoints. Refer to 
    <a href="/docs/grafana/latest/administration/roles-and-permissions/access-control/custom-role-actions-scopes/">Role-based access control permissions</a> for more information.</p></blockquote></div>

<h2 id="create-a-shared-dashboard">Create a shared dashboard</h2>
<p><code>POST /api/dashboards/uid/:uid/public-dashboards/</code></p>
<p>Creates a new shared dashboard.</p>
<p><strong>Required permissions</strong></p>
<p>See note in the <a href="#shared-dashboards-api">introduction</a> for an explanation.</p>
<table>
  <thead>
      <tr>
          <th>Action</th>
          <th>Scope</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>dashboards.public:write</code></td>
          <td><code>dashboards:uid:&lt;dashboard UID&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Example Request for new shared dashboard</strong>:</p>
<pre>POST /api/dashboards/uid/xCpsVuc4z/public-dashboards/ HTTP/1.1
Accept: application/json
Content-Type: application/json
Authorization: Bearer eyJrIjoiT0tTcG1pUlY2RnVKZTFVaDFsNFZXdE9ZWmNrMkZYbk

{
    &#34;uid&#34;: &#34;cd56d9fd-f3d4-486d-afba-a21760e2acbe&#34;,
    &#34;accessToken&#34;: &#34;5c948bf96e6a4b13bd91975f9a2028b7&#34;,
    &#34;timeSelectionEnabled&#34;: false,
    &#34;isEnabled&#34;: true,
    &#34;annotationsEnabled&#34;: false,
    &#34;share&#34;: &#34;public&#34;
}</pre>
<p>JSON Body schema:</p>
<ul>
<li><strong>uid</strong> – Optional. Unique identifier when creating a shared dashboard. If it&rsquo;s null, it will generate a new uid.</li>
<li><strong>accessToken</strong> – Optional. Unique access token. If it&rsquo;s null, it will generate a new access token.</li>
<li><strong>timeSelectionEnabled</strong> – Optional. Set to <code>true</code> to enable the time picker in the shared dashboard. The default value is <code>false</code>.</li>
<li><strong>isEnabled</strong> – Optional. Set to <code>true</code> to enable the shared dashboard. The default value is <code>false</code>.</li>
<li><strong>annotationsEnabled</strong> – Optional. Set to <code>true</code> to show annotations. The default value is <code>false</code>.</li>
<li><strong>share</strong> – Optional. Set the share mode. The default value is <code>public</code>.</li>
</ul>
<p><strong>Example Response</strong>:</p>
<pre>HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8
Content-Length: 78

{
    &#34;uid&#34;: &#34;cd56d9fd-f3d4-486d-afba-a21760e2acbe&#34;,
    &#34;dashboardUid&#34;: &#34;xCpsVuc4z&#34;,
    &#34;accessToken&#34;: &#34;5c948bf96e6a4b13bd91975f9a2028b7&#34;,
    &#34;createdBy&#34;: 1,
    &#34;updatedBy&#34;: 1,
    &#34;createdAt&#34;: &#34;2023-09-05T15:48:21-03:00&#34;,
    &#34;updatedAt&#34;: &#34;2023-09-05T15:48:21-03:00&#34;,
    &#34;timeSelectionEnabled&#34;: false,
    &#34;isEnabled&#34;: false,
    &#34;annotationsEnabled&#34;: false,
    &#34;share&#34;: &#34;public&#34;
}</pre>
<p>Status Codes:</p>
<ul>
<li><strong>200</strong> – Created</li>
<li><strong>400</strong> – Errors (such as invalid json, missing or invalid fields, or dashboard is shared)</li>
<li><strong>401</strong> – Unauthorized</li>
<li><strong>403</strong> – Access denied</li>
<li><strong>404</strong> – Dashboard not found</li>
</ul>
<p>The error response body will have the following properties:</p>
<pre>HTTP/1.1 400 Bad request
Content-Type: application/json; charset=UTF-8
Content-Length: 107

{
    &#34;statusCode&#34;: 400,
    &#34;messageId&#34;: &#34;publicdashboards.dashboardIsPublic&#34;,
    &#34;message&#34;: &#34;Dashboard is already public&#34;
}</pre>
<h2 id="update-a-shared-dashboard">Update a shared dashboard</h2>
<p><code>PATCH /api/dashboards/uid/:uid/public-dashboards/:publicDashboardUid</code></p>
<p>Will update the shared dashboard given the specified unique identifier (uid).</p>
<p><strong>Required permissions</strong></p>
<p>See note in the <a href="#shared-dashboard-api">introduction</a> for an explanation.</p>
<table>
  <thead>
      <tr>
          <th>Action</th>
          <th>Scope</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>dashboards.public:write</code></td>
          <td><code>dashboards:uid:&lt;dashboard UID&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Example Request for updating a shared dashboard</strong>:</p>
<pre>PATCH /api/dashboards/uid/xCpsVuc4z/public-dashboards/cd56d9fd-f3d4-486d-afba-a21760e2acbe HTTP/1.1
Accept: application/json
Content-Type: application/json
Authorization: Bearer eyJrIjoiT0tTcG1pUlY2RnVKZTFVaDFsNFZXdE9ZWmNrMkZYbk

{
    &#34;timeSelectionEnabled&#34;: false,
    &#34;isEnabled&#34;: true,
    &#34;annotationsEnabled&#34;: false,
    &#34;share&#34;: &#34;public&#34;
}</pre>
<p>JSON Body schema:</p>
<ul>
<li><strong>timeSelectionEnabled</strong> – Optional. Set to <code>true</code> to enable the time picker in the shared dashboard. The default value is <code>false</code>.</li>
<li><strong>isEnabled</strong> – Optional. Set to <code>true</code> to enable the shared dashboard. The default value is <code>false</code>.</li>
<li><strong>annotationsEnabled</strong> – Optional. Set to <code>true</code> to show annotations. The default value is <code>false</code>.</li>
<li><strong>share</strong> – Optional. Set the share mode. The default value is <code>public</code>.</li>
</ul>
<p><strong>Example Response</strong>:</p>
<pre>HTTP/1.1 200 OK
Content-Type: application/json; charset=UTF-8
Content-Length: 78

{
    &#34;uid&#34;: &#34;cd56d9fd-f3d4-486d-afba-a21760e2acbe&#34;,
    &#34;dashboardUid&#34;: &#34;xCpsVuc4z&#34;,
    &#34;accessToken&#34;: &#34;5c948bf96e6a4b13bd91975f9a2028b7&#34;,
    &#34;createdBy&#34;: 1,
    &#34;updatedBy&#34;: 1,
    &#34;createdAt&#34;: &#34;2023-09-05T15:48:21-03:00&#34;,
    &#34;updatedAt&#34;: &#34;2023-09-05T15:48:21-03:00&#34;,
    &#34;timeSelectionEnabled&#34;: false,
    &#34;isEnabled&#34;: false,
    &#34;annotationsEnabled&#34;: false,
    &#34;share&#34;: &#34;public&#34;
}</pre>
<p>Status Codes:</p>
<ul>
<li><strong>200</strong> – Updated</li>
<li><strong>400</strong> – Errors (such as invalid json, missing or invalid fields)</li>
<li><strong>401</strong> – Unauthorized</li>
<li><strong>403</strong> – Access denied</li>
<li><strong>404</strong> – Dashboard not found</li>
</ul>
<p>The error response body will have the following properties:</p>
<pre>HTTP/1.1 400 Bad request
Content-Type: application/json; charset=UTF-8
Content-Length: 107

{
    &#34;statusCode&#34;: 400,
    &#34;messageId&#34;: &#34;publicdashboards.dashboardIsPublic&#34;,
    &#34;message&#34;: &#34;Dashboard is already public&#34;
}</pre>
<h2 id="get-shared-dashboard-by-dashboard-uid">Get shared dashboard by dashboard uid</h2>
<p><code>GET /api/dashboards/uid/:uid/public-dashboards/</code></p>
<p>Will return the shared dashboard given the dashboard unique identifier (uid).</p>
<p><strong>Required permissions</strong></p>
<p>See note in the <a href="#shared-dashboard-api">introduction</a> for an explanation.</p>
<table>
  <thead>
      <tr>
          <th>Action</th>
          <th>Scope</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>dashboards:read</code></td>
          <td><code>dashboards:uid:&lt;dashboard UID&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Example Request</strong>:</p>
<pre>GET /api/dashboards/uid/xCpsVuc4z/public-dashboards/ HTTP/1.1
Accept: application/json
Content-Type: application/json
Authorization: Bearer eyJrIjoiT0tTcG1pUlY2RnVKZTFVaDFsNFZXdE9ZWmNrMkZYbk</pre>
<p><strong>Example Response</strong>:</p>
<pre>HTTP/1.1 200
Content-Type: application/json

{
    &#34;uid&#34;: &#34;e71950f3-e7dd-4d1e-aa8a-a857bc5e7d64&#34;,
    &#34;dashboardUid&#34;: &#34;xCpsVuc4z&#34;,
    &#34;accessToken&#34;: &#34;dab10f3a4fbb4342a602b03079c7ed64&#34;,
    &#34;createdBy&#34;: 1,
    &#34;updatedBy&#34;: 1,
    &#34;createdAt&#34;: &#34;2023-09-05T15:48:21-03:00&#34;,
    &#34;updatedAt&#34;: &#34;2023-09-05T15:48:21-03:00&#34;,
    &#34;timeSelectionEnabled&#34;: false,
    &#34;isEnabled&#34;: false,
    &#34;annotationsEnabled&#34;: false,
    &#34;share&#34;: &#34;public&#34;
}</pre>
<p>Status Codes:</p>
<ul>
<li><strong>200</strong> – Found</li>
<li><strong>401</strong> – Unauthorized</li>
<li><strong>403</strong> – Access denied</li>
<li><strong>404</strong> – Dashboard not found</li>
</ul>
<h2 id="delete-shared-dashboard-by-dashboard-uid-and-shared-dashboard-uid">Delete shared dashboard by dashboard uid and shared dashboard uid</h2>
<p><code>DELETE /api/dashboards/uid/:uid/public-dashboards/:publicDashboardUid</code></p>
<p>Will delete the shared dashboard given the specified unique identifier (uid).</p>
<p><strong>Required permissions</strong></p>
<p>See note in the <a href="#shared-dashboard-api">introduction</a> for an explanation.</p>
<table>
  <thead>
      <tr>
          <th>Action</th>
          <th>Scope</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>dashboards.public:write</code></td>
          <td><code>dashboards:uid:&lt;dashboard UID&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Example Request</strong>:</p>
<pre>DELETE /api/dashboards/uid/xCpsVuc4z/public-dashboards/cd56d9fd-f3d4-486d-afba-a21760e2acbe HTTP/1.1
Accept: application/json
Content-Type: application/json
Authorization: Bearer eyJrIjoiT0tTcG1pUlY2RnVKZTFVaDFsNFZXdE9ZWmNrMkZYbk</pre>
<p>Status Codes:</p>
<ul>
<li><strong>200</strong> – Deleted</li>
<li><strong>401</strong> – Unauthorized</li>
<li><strong>403</strong> – Access denied</li>
</ul>
<h2 id="get-a-list-of-all-shared-dashboards-with-pagination">Get a list of all shared dashboards with pagination</h2>
<p><code>GET /api/dashboards/public-dashboards</code></p>
<p><strong>Required permissions</strong></p>
<p>See note in the <a href="#shared-dashboard-api">introduction</a> for an explanation.</p>
<table>
  <thead>
      <tr>
          <th>Action</th>
          <th>Scope</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>dashboards:read</code></td>
          <td><code>dashboards:uid:&lt;dashboard UID&gt;</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Example Request</strong>:</p>
<pre>GET /api/dashboards/public-dashboards?perpage=2&amp;page=3 HTTP/1.1
Accept: application/json
Content-Type: application/json
Authorization: Bearer eyJrIjoiT0tTcG1pUlY2RnVKZTFVaDFsNFZXdE9ZWmNrMkZYbk</pre>
<p><strong>Example Response</strong>:</p>
<pre>HTTP/1.1 200
Content-Type: application/json

{
    &#34;publicDashboards&#34;: [
        {
            &#34;uid&#34;: &#34;e9f29a3c-fcc3-4fc5-a690-ae39c97d24ba&#34;,
            &#34;accessToken&#34;: &#34;6c13ec1997ba48c5af8c9c5079049692&#34;,
            &#34;title&#34;: &#34;Datasource Shared Queries&#34;,
            &#34;dashboardUid&#34;: &#34;d2f21d0a-76c7-47ec-b5f3-9dda16e5a996&#34;,
            &#34;isEnabled&#34;: true
        },
        {
            &#34;uid&#34;: &#34;a174f604-6fe7-47de-97b4-48b7e401b540&#34;,
            &#34;accessToken&#34;: &#34;d1fcff345c0f45e8a78c096c9696034a&#34;,
            &#34;title&#34;: &#34;Datasource with template variables&#34;,
            &#34;dashboardUid&#34;: &#34;51DiOw0Vz&#34;,
            &#34;isEnabled&#34;: true
        }
    ],
    &#34;totalCount&#34;: 30,
    &#34;page&#34;: 3,
    &#34;perPage&#34;: 2
}</pre>
